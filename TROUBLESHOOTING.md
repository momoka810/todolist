# LINE通知機能 トラブルシューティング

## DNS解決エラーについて

`Failed to resolve 'notify-api.line.me'` というエラーが発生している場合、以下の原因が考えられます。

### 原因1: インターネット接続の問題

**確認方法:**
```bash
ping 8.8.8.8
curl https://www.google.com
```

**対処法:**
- Wi-Fiまたは有線接続を確認
- インターネット接続が正常か確認
- ファイアウォールやプロキシ設定を確認

### 原因2: DNS設定の問題

**確認方法:**
```bash
nslookup notify-api.line.me
```

**対処法:**
- DNSサーバーを変更（例: 8.8.8.8, 1.1.1.1）
- ネットワーク設定を確認

### 原因3: プロキシ設定

企業ネットワークやVPNを使用している場合、プロキシ設定が必要な場合があります。

**対処法:**
- プロキシ設定を確認
- 必要に応じて環境変数を設定：
  ```bash
  export HTTP_PROXY=http://proxy.example.com:8080
  export HTTPS_PROXY=http://proxy.example.com:8080
  ```

### 原因4: 一時的なネットワーク障害

LINE Notify APIサーバーへの一時的な接続問題の可能性があります。

**対処法:**
- しばらく時間をおいて再試行
- 別のネットワーク環境で試す

## その他のエラー

### 401 Unauthorized

**原因:** LINE Notify トークンが無効

**対処法:**
1. LINE Notify でトークンを再発行
2. `config.json` または環境変数を更新

### 400 Bad Request

**原因:** リクエスト形式が不正

**対処法:**
- メッセージが空でないか確認
- トークンが正しく設定されているか確認

### タイムアウトエラー

**原因:** 接続に時間がかかりすぎている

**対処法:**
- ネットワーク接続を確認
- ファイアウォール設定を確認

## テスト方法

### 1. 接続テスト

```bash
curl -I https://notify-api.line.me
```

### 2. 簡単なテスト送信

```bash
python test_line_simple.py
```

### 3. 詳細なテスト

```bash
python test_line_notify.py
```

## 代替案

インターネット接続の問題が解決しない場合：

1. **別のネットワーク環境で試す**（モバイルホットスポットなど）
2. **VPNを一時的に無効化**して試す
3. **Renderなどのクラウド環境で実行**（インターネット接続が確実）

## サポート

問題が解決しない場合は、以下を確認してください：

1. エラーメッセージの全文
2. ネットワーク環境（企業ネットワーク、VPN使用有無など）
3. インターネット接続の状態

